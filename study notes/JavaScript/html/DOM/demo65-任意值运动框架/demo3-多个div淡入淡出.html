<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>无标题文档</title>
    <style>
        div {
            width:100px;
            height:100px;
            margin:20px;
            float:left;
            background:red;
            filter:alpha(opacity:20);
            opacity:0.2;
        }
    </style>
</head>

<body>
    <div></div>
    <div></div>
    <div></div>
    <div></div>

    <script>
        window.onload = function () {

            var oDiv = document.getElementsByTagName("div");

            //他仅仅只是添加事件而已！
            for (var i=0; i<oDiv.length; i++){
                oDiv[i].timer = null;   //定时器私有（开自己的，关自己的）
                oDiv[i].onmouseover = function () {
                    startMove(this,100);
                } ;
                oDiv[i].onmouseout = function () {
                    startMove(this,20);
                };
            }

        }

        var opc = 20;

        function startMove(obj,iTarget) {

            clearInterval(obj.timer)
            obj.timer = setInterval(function () {

                var speed=(iTarget-opc)/10;
                speed=speed>0?Math.ceil(speed):Math.floor(speed);

                opc+=speed

                if(opc == iTarget){
                    clearInterval(obj.timer)
                }else{
                    obj.style.filter = "alpha(opacity="+opc+")";
                    obj.style.opacity = opc/100;
                }
            },20)
        }



    </script>


</body>
</html>
