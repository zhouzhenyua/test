<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>无标题文档</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		#div1 {
			width: 300px;
			height: 300px;
			background: #f00;
            opacity: 0.2;
            filter:alpha(opacity=20);

		}

	</style>

</head>

<body>
<div id="div1"></div>

<script>
    window.onload=function () {
        var oDiv = document.getElementById('div1');
        oDiv.onmouseover = function () {
            startMove(100);
        };
        oDiv.onmouseout = function () {
            startMove(20);
        };

    }

    var timer;
    var opc = 20;

    function startMove(iTarget) {
        var oDiv = document.getElementById('div1');
        var speed=0;
        if(opc >= iTarget){
            speed= -2;
		}else{
            speed= +2;
		}
        clearInterval(timer)
        timer = setInterval(function () {
            opc+=speed;   // opc=opc+speed
            if(opc == iTarget){
                clearInterval(timer)
            }else{
                oDiv.style.filter = "alpha(opacity="+opc+")"
                oDiv.style.opacity = opc/100;
            }
        },10)
    }





</script>

</body>
</html>
